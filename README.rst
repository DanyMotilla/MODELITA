MODELITA v0.2 Documentation
===========================

Table of Contents
-----------------

1. `Introduction`_
2. `Prerequisites`_
3. `Installation`_
4. `Using Modelita`_
5. `Using the Blender OBJ Importer`_

Introduction
------------

MODELITA is a Domain-Specific Language (DSL) for 3D modeling, integrating Racket, PostGIS, and Blender. This documentation covers version 0.2.

.. _prerequisites:

Prerequisites
-------------

Before setting up MODELITA, ensure you have the following installed:

1. **Blender**: Latest version from the `official Blender website <https://www.blender.org/>`_.

.. _installation:

Installation
------------

Download the installer:
`install-modelita.sh <https://github.com/DanyMotilla/MODELITA/releases/download/GIS/install-modelita.sh>`_

Running Modelita
~~~~~~~~~~~~~~~~

Once you installed MODELITA, you can run the program using DRRacket. When you start ``modelita.rkt``, you will enter an interactive mode where you can input commands to create 3D shapes.

.. _using-modelita:

Using Modelita
~~~~~~~~~~~~~~

Here are the commands you can use to manipulate the 3D model:

- **Movement Commands**: 
  - ``up``, ``down``, ``left``, ``right``, ``forward``, ``backward``

- **Rotation Commands**:

  +----------------+-----------------------------------------------+
  | Command        | Description                                   |
  +================+===============================================+
  | ``rotate-x+``  | Rotate 90 degrees around the X-axis (positive)|
  +----------------+-----------------------------------------------+
  | ``rotate-x-``  | Rotate 90 degrees around the X-axis (negative)|
  +----------------+-----------------------------------------------+
  | ``rotate-y+``  | Rotate 90 degrees around the Y-axis (positive)|
  +----------------+-----------------------------------------------+
  | ``rotate-y-``  | Rotate 90 degrees around the Y-axis (negative)|
  +----------------+-----------------------------------------------+
  | ``rotate-z+``  | Rotate 90 degrees around the Z-axis (positive)|
  +----------------+-----------------------------------------------+
  | ``rotate-z-``  | Rotate 90 degrees around the Z-axis (negative)|
  +----------------+-----------------------------------------------+

- **Shape Editing**:
  - ``a``: Add the current position as a vertex
  - ``b``: Clear the shape
  - ``select``: Print the current position
  - ``start``: Save the shape to an ``.obj`` file

- **State Management**:
  - ``push``: Save the current position and rotation for later retrieval.
  - ``pop``: Restore the last saved position and rotation.

.. _using-the-blender-obj-importer:

Using the Blender OBJ Importer (``objimporter.py``)
---------------------------------------------------

This Python script automates the process of importing OBJ files generated by Modelita into Blender.

Steps to Use the Importer
~~~~~~~~~~~~~~~~~~~~~~~~~

1. **Place your OBJ files in the ``models/`` directory**.
   
2. **Open Blender** and ensure the ``objimporter.py`` script is accessible.

3. **Run the script**:

   - Open the **Scripting** tab in Blender.
   - Load ``objimporter.py`` by clicking **Text > Open**.
   - Press **Run Script**.

4. **Reload OBJ Files**:

   After running the script, navigate to the 3D View, press **N** to open the side panel, and go to the **My Tools** tab. Click **Reload OBJ** to import all ``.obj`` files from the specified directory.

Script Overview
~~~~~~~~~~~~~~~

The ``objimporter.py`` script imports OBJ files and cleans up the Blender scene before loading new ones, ensuring that all objects from previous imports are removed first.

Key Features
~~~~~~~~~~~~

- **Cleanup**: Deletes all objects and meshes before reloading new OBJ files.
- **Automatic Directory Scan**: Looks for ``.obj`` files in the specified directory (``models/``).
- **Debug Information**: Displays details about the import process and any errors that occur.

.. note::
   If you fail to follow these steps, well... you might just be a bit tonto! ૮ •ﻌ• ა

